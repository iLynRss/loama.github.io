<!DOCTYPE html>
<html lang="es">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
  <title>Starter Template - Materialize</title>

  <!-- CSS  -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link rel="stylesheet" type="text/css" href="animate.css">


  <script src="http://code.jquery.com/jquery-1.12.0.min.js"></script>

  <script>


     var news = [];

      $.getJSON('http://centraal.com/api/people.json', function(data) {
          $.each(data, function(i, f) {
            var tblRow = "<li>" + "<div class='collapsible-header newfromjson' onclick='titleFunction(this.innerHTML)'>"+ f.firstName + "</div>" + "<div class='collapsible-body'>" + "<p>" + f.firstName + f.lastName + f.job + f.roll + "</p>" + "</div>" + "</li>"
            $(tblRow).appendTo("#newsdata");
          });
      });
  

  </script>

</head>
<body>
  <nav class="light-blue lighten-1" role="navigation">
    <div class="nav-wrapper container"><a id="logo-container" href="#" class="brand-logo">Logo</a>
      <ul class="right hide-on-med-and-down">
        <li><a href="#">Navbar Link</a></li>
      </ul>

      <ul id="nav-mobile" class="side-nav">
        <li><a href="#">Navbar Link</a></li>
      </ul>
      <a href="#" data-activates="nav-mobile" class="button-collapse"><i class="material-icons">menu</i></a>
    </div>
  </nav>
  <div style="width:30%">
      <div class="card grey lighten-2">
            <div class="card-content white-text">
              <div class="row">
                <form id="form" onsubmit="return false;">
                  <input type="text" id="userInput" />
                  <input class="refreshjson" type="submit"/>
                </form>
              </div>
            </div>
      </div>
  </div>              
 
  <div class="container">
    <div class="section">
      
  <a class="waves-effect waves-light btn boton">ir</a>

  <nav class="animated bounceInUp" style="background-color:#f44336; border-radius:0.5em 0.5em 0 0; z-index:100">
    <div class="nav-wrapper">
      <a href="#" class="button brand-logo left"><i class="button material-icons">view_headline</i></a>
      <p class="center" id="newstitle"></p>
      <ul id="nav-mobile" class="left hide-on-med-and-down">
      
      </ul>
    </div>
  </nav>


      <!--   Icon Section   -->
    <div class="animated bounceInUp newslist">  
      <div class="newsdiv ocult">

          <div style="padding: 10px 10% 10px 10%; width: 100%;">
            <ul class="collapsible toempty" data-collapsible="accordion" id="newsdata" style="background-color:#fff">
              <li>
                <div class="collapsible-header" onclick="titleFunction(this.innerHTML)">First</div>
                <div class="collapsible-body"><p>Lorem ipsum dolor sit amet.</p></div>
              </li>
              <li>
                <div class="collapsible-header" onclick="titleFunction(this.innerHTML)">Second</div>
                <div class="collapsible-body"><p>Lorem ipsum dolor sit amet.</p></div>
              </li>
              <li>
                <div class="collapsible-header">Third</div>
                <div class="collapsible-body"><p>Lorem ipsum dolor sit amet.</p></div>
              </li>
            </ul>
          </div>
      </div>
  
      </div>
    </div>
    </div>


  <!-- Scripts -->
  <script type="text/javascript">
    $(function() {

      var animationName = 'animated bounceInLeft'
      var animationend = 'webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend'
      var ocult = 'ocult'
      
      $('a.button').on('click' ,function() {
        $ ('div.newsdiv').addClass(animationName).removeClass(ocult).one(animationend,function() {
          //$(this).removeClass(animationName);       
        });

      });

    });
  </script>
  <!-- function NOT WORKING to ocult the news title in news navbar -->
  <script type="text/javascript">
    $('div.newfromjson').click(function() {
      var clicks = $(this).data('clicks');
      if (clicks) {
        alert('odd number of clicks');
      } else {
        alert('even number of clicks');
      }
      $(this).data("clicks", !clicks);
    });
  </script>
  <!-- function to change the title in news navbar -->
  <script>
    function titleFunction(newsname)
      {
        document.getElementById("newstitle").innerHTML = newsname;
      }
  </script>
  
  <!-- function to change the json-->
  <script>

        
    $("input.refreshjson").click(function(){
      var jsoninput = document.getElementById("userInput").value;
      $("ul.toempty").empty();

      $.getJSON(jsoninput, function(data) {
          $.each(data, function(i, f) {
            var tblRow = "<li>" + "<div class='collapsible-header' onclick='titleFunction(this.innerHTML)'>"+ f.firstName + "</div>" + "<div class='collapsible-body'>" + "<p>" + f.firstName + f.lastName + f.job + f.roll + "</p>" + "</div>" + "</li>"
            $(tblRow).appendTo("#newsdata");     
        });
      });
    });
      
  </script>
  
  <script src="js/materialize.js"></script>
  <script src="js/init.js"></script>

  </body>
</html>
